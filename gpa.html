<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ</title>

<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;700;800&display=swap" rel="stylesheet">

<style>

*{margin:0;padding:0;box-sizing:border-box}

body{
font-family:'Tajawal';
background:linear-gradient(120deg,#000428,#004e92,#00111f,#000000);
color:white;
padding:25px;
}

/* Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
.box{
max-width:900px;
margin:auto;
background:rgba(255,255,255,0.06);
border-radius:25px;
padding:25px;
border:1px solid rgba(255,255,255,0.2);
backdrop-filter:blur(15px);
}

/* Ø§Ù„Ø¹Ù†ÙˆØ§Ù† */
h1{
text-align:center;
margin-bottom:10px;
}

/* Ø¹Ù†ÙˆØ§Ù† ÙØ±Ø¹ÙŠ */
h3{
text-align:center;
margin:10px 0;
}

/* Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª */
.row{
display:flex;
gap:10px;
margin-bottom:8px;
flex-wrap:wrap;
}

input,select{
padding:7px;
border-radius:12px;
border:none;
outline:none;
}

/* Ø²Ø± */
.btn{
background:cyan;
color:black;
padding:8px 14px;
border-radius:15px;
border:none;
cursor:pointer;
font-weight:800;
}

.add{
background:#00ffaa;
}

.remove{
background:#ff4d4d;
color:white;
border:none;
padding:4px 10px;
border-radius:50%;
cursor:pointer;
}

/* Ø§Ù„Ù†ØªØ§Ø¦Ø¬ */
.result-box{
display:flex;
justify-content:space-around;
margin-top:25px;
font-size:20px;
}

.badge{
padding:6px 12px;
background:black;
border-radius:12px;
}

</style>
</head>

<body>

<h1>ğŸ“Š Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ</h1>

<div class="box">

<h3>Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ Ø§Ù„Ø³Ø§Ø¨Ù‚ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</h3>

<div class="row">
<input type="number" id="oldGPA" step="0.01" placeholder="Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚">
<input type="number" id="oldHours" placeholder="Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ù‚Ø·ÙˆØ¹Ø©">
</div>

<hr style="opacity:.3;margin:15px 0">

<h3>ğŸ“ Ù…ÙˆØ§Ø¯ Ø§Ù„ÙØµÙ„</h3>

<div id="subjects"></div>

<button class="add" onclick="addRow()">â• Ø¥Ø¶Ø§ÙØ© Ù…Ø§Ø¯Ø©</button>

<br><br>

<button class="btn" onclick="calculate()">Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„</button>

<div class="result-box">

<div>
ğŸ“Œ Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ÙØµÙ„ÙŠ:
<span class="badge" id="termGPA">0.00</span>
</div>

<div>
ğŸ“Œ Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:
<span class="badge" id="cgpa">0.00</span>
</div>

</div>

</div>

<script>

// ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø±Ù…Ø² Ø¥Ù„Ù‰ Ù†Ù‚Ø§Ø· Ø­Ø³Ø¨ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø±Ø³Ù„
function gradeToPoint(g){
switch(g){
case "A+": return 4;
case "A": return 3.75;
case "A-": return 3.5;
case "B+": return 3.25;
case "B": return 3;
case "B-": return 2.75;
case "C+": return 2.5;
case "C": return 2.25;
case "C-": return 2;
case "D+": return 1.75;
case "D": return 1.5;
case "F": return 0.75;
default: return 0;
}
}

// Ø¥Ø¶Ø§ÙØ© ØµÙ Ù…Ø§Ø¯Ø©
function addRow(){

let div=document.createElement("div");
div.className="row";

div.innerHTML=`
<input type="number" placeholder="Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ø§Ø¯Ø©" class="hours">

<select class="grade">
<option value="A+">A+</option>
<option value="A">A</option>
<option value="A-">A-</option>
<option value="B+">B+</option>
<option value="B">B</option>
<option value="B-">B-</option>
<option value="C+">C+</option>
<option value="C">C</option>
<option value="C-">C-</option>
<option value="D+">D+</option>
<option value="D">D</option>
<option value="F">F</option>
</select>

<button class="remove" onclick="this.parentElement.remove()">âˆ’</button>
`;

document.getElementById("subjects").appendChild(div);
}

addRow();
addRow();

// Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø­Ø³Ø§Ø¨
function calculate(){

let hours=document.querySelectorAll(".hours");
let grades=document.querySelectorAll(".grade");

let totalPoints=0;
let totalHours=0;

for(let i=0;i<hours.length;i++){
let h=Number(hours[i].value);
let g=gradeToPoint(grades[i].value);

if(h>0){
totalHours+=h;
totalPoints+=h*g;
}
}

// Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ÙØµÙ„ÙŠ
let term= totalPoints / totalHours || 0;
document.getElementById("termGPA").innerHTML=term.toFixed(2);

// Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ Ø§Ù„Ø³Ø§Ø¨Ù‚
let oldG=Number(document.getElementById("oldGPA").value);
let oldH=Number(document.getElementById("oldHours").value);

// Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯
let newGPA = ((oldG*oldH)+(totalPoints)) / (oldH+totalHours) || term;

document.getElementById("cgpa").innerHTML=newGPA.toFixed(2);

}

</script>

</body>
</html>
